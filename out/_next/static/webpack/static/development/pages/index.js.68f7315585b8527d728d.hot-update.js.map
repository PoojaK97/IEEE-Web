{"version":3,"file":"static/webpack/static/development/pages/index.js.68f7315585b8527d728d.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withStyles } from '@material-ui/core/styles';\nimport ResponsiveDrawer from '../components/test';\nimport Info from '../components/info';\nimport SwipeableTextMobileStepper from '../components/carousel';\nimport AboutCardy from '../components/AboutCard';\nimport ExhibitionCard from '../components/Exhibition';\nimport SimpleBottomNavigation from '../components/bottom';\nimport MainCarousel from '../components/mcarousel';\nimport FullWidthTabs from './info';\nimport {firebaseCloudMessaging} from '../components/webPush';\nimport firebase from 'firebase/app';\nimport 'firebase/auth';\nimport PastEvent from '../components/PastEvent';\n\nexport const styles = theme=>{\n\n}\n\nclass Index extends React.Component{\n  constructor(porps){\n    super(porps);\n    this.login=this.login.bind(this)\n    this.state={\n      loggedIn:false,\n      User:null,\n      notification:false,\n      installed:false\n    }\n  }\n  login=()=>{\n    const setstuff =(user,s)=>{\n      this.setState({\n        loggedIn:s,\n        User:user\n      });\n      localStorage.setItem('User',JSON.stringify(user));\n    };\n    try{\n      firebase.initializeApp({\n        apiKey: \"AIzaSyDEIW5sy8lwg8ialwvTmEqgfevaiy6ELKk\",\n        authDomain: \"ritb-ieee.firebaseapp.com\",\n        databaseURL: \"https://ritb-ieee.firebaseio.com\",\n        projectId: \"ritb-ieee\",\n        storageBucket: \"ritb-ieee.appspot.com\",\n        messagingSenderId: \"776351305681\"\n  });\n}catch{};\n    if(!this.state.loggedIn){\n      var provider = new firebase.auth.GoogleAuthProvider();\n      firebase.auth().signInWithPopup(provider).then(function(result) {\n      var user=result.user;\n      setstuff(user,true);\n    }).catch((error)=>{})\n  }\n    else{\n      setstuff(null,false);\n      localStorage.removeItem('User');\n    }\n\n  }\n  subscribe=()=>{\n    if(!this.state.notification){\n      firebaseCloudMessaging.init(true,this.state.User.uid)\n      this.setState({\n        notification:true\n      });\n    }\n    else{\n      firebaseCloudMessaging.init(false,this.state.User.uid)\n      this.setState({\n        notification:false\n      });\n    }\n  }\n\n  componentDidMount(){\n    var user=JSON.parse(localStorage.getItem('User'))\n    if (user!==null){\n      this.setState({\n        loggedIn:true,\n        User:user\n      })\n    }\n    }\n\n\n\n\n  render(){\n    return (\n      <ResponsiveDrawer notification={this.state.notification} subscribe={this.subscribe} loggedIn={this.loggedIn}\n        login={this.login} User={this.state.User}>\n        <div style={{'width':'85vw','margin':'auto','display':'flexShrink'}}>\n          <MainCarousel />\n          <AboutCardy/>\n          <PastEvent/>\n          <ExhibitionCard/>\n        </div>\n        </ResponsiveDrawer>\n    )\n  }\n\n}\n\nexport default withStyles(styles, { withTheme: true })(Index);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAGA;;;;;AACA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AAWA;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AADA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AAzCA;AA0CA;AACA;AACA;AAAA;AACA;AADA;AAGA;AAEA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AArDA;AACA;AACA;AACA;AACA;AACA;AAJA;AAHA;AASA;AACA;;;AA8CA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;;;AAKA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;;;;AAlFA;AACA;AAqFA;AAAA;AAAA;;;;A","sourceRoot":""}